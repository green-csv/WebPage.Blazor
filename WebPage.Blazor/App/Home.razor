@inherits WebPage.Blazor.Src.Infrastructure.Interop.BootInteropComponentBase

@page "/"

<PageTitle>Home</PageTitle>

@if (_showBanner)
{
  <div
    data-monday="Built by a human. Roasted and improved by Monday, the AI who never asked for this job."
    class="text-lg container mx-auto flex-none mb-4 py-0 px-4 relative"
  >
    <button
      @onclick="() => _showBanner = false"
      class="absolute top-1 right-1 text-teal-600 hover:text-teal-200 font-bold text-lg"
      title="Dismiss"
    >
      [x]
    </button>
    <a
      href="https://www.linkedin.com/in/anzvy/"
      target="_blank">
      >_ Hello, I’m a .NET Contractor
      <p title="Trust me — I know what I’m doing.">
        Available for .NET contract work
      </p>
    </a>
  </div>
}

<!-- Tabs (static) -->
<div class="container mx-auto flex-none gap-4 mb-4 mt-0">
  <button
    class="border border-teal-300 px-4 py-2 transition-all duration-200 @GetTabClass(EnumTabs.Projects)"
    @onclick="@(() => SelectTab(EnumTabs.Projects))">
    <p class="text-shadow text-shadow-teal-400">Projects</p>
  </button>
  <button
    class="border border-teal-300 px-4 py-2 transition-all duration-200 @GetTabClass(EnumTabs.Entries)"
    @onclick="@(() => SelectTab(EnumTabs.Entries))">
    <p class="text-shadow text-shadow-teal-400">Entries</p>
  </button>
</div>

<!-- Fixed Page Layout -->
<div class="container mx-auto flex grow mb-4 h-full overflow-y-auto md:shadow md:shadow-teal-200 md:border border-x border-teal-300">

  @switch (_activeTab)
  {
    case EnumTabs.Projects:
      <ProjectsScreen />
      break;

    case EnumTabs.Entries:
      <p class="p-4">> Well well still under construction, but soon ...</p>
      break;

    default:
      <text>...</text>
      break;
  }

</div>

@code {

    private bool _showBanner = true;
    private EnumTabs _activeTab = EnumTabs.Projects;

    private void SelectTab(EnumTabs tab)
    {
        _activeTab = tab;
    }

    private string GetTabClass(EnumTabs tab) =>
        _activeTab == tab
            ? " tab-active bg-teal-300 text-teal-950 shadow shadow-teal-200"
            : " tab-inactive text-teal-300 hover:bg-teal-500";

    private enum EnumTabs
    {
        Projects,
        Entries
    }
}
